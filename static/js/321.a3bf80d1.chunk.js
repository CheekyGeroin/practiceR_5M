"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[321],{321:function(n,t,e){e.r(t),e.d(t,{default:function(){return O}});var r,i,u,o,a=e(439),s=e(791),c=e(168),l=e(686),f=l.Z.form(r||(r=(0,c.Z)([""]))),m=l.Z.input(i||(i=(0,c.Z)(["\n  margin-right: 15px;\n"]))),x=l.Z.button(u||(u=(0,c.Z)(["\n  border-radius: 20px;\n  border: none;\n  padding: 5px 10px;\n  :active {\n    box-shadow: 2px 2px 2px 2px #bab8b8;\n  }\n"]))),d=e(184),h=function(n){var t=n.onSubmit,e=n.onChange,r=(0,s.useState)(""),i=(0,a.Z)(r,2),u=i[0],o=i[1];return(0,d.jsxs)(f,{onSubmit:function(n){n.preventDefault(),t(u),e(u),o("")},children:[(0,d.jsx)(m,{onChange:function(n){o(n.currentTarget.value.toLowerCase())},value:u,type:"text"}),(0,d.jsx)(x,{type:"submit",children:"Search"})]})},p=e(596),v=e(202),Z=e(87);var j,b,g=l.Z.ul(o||(o=(0,c.Z)([""]))),S=e(689),w=(0,l.Z)(Z.OL)(j||(j=(0,c.Z)([""]))),k=l.Z.li(b||(b=(0,c.Z)(["\n  :not(:last-child) {\n    margin-bottom: 5px;\n  }\n"]))),C=function(n){var t=n.id,e=n.title,r=(0,S.TH)();return(0,d.jsxs)(k,{children:[(0,d.jsx)(w,{to:"/movies/".concat(t),state:{from:r},children:e}),(0,d.jsx)(S.j3,{})]})},y=function(n){var t=n.films;return(0,d.jsx)(g,{children:t.length>0&&t.map((function(n){var t=n.id,e=n.name,r=n.title;return(0,d.jsx)(C,{id:t,title:null!==r&&void 0!==r?r:e},t)}))})},_=function(){var n,t=function(n,t){var e=(0,s.useState)((function(){var e=localStorage.getItem(t);return e?JSON.parse(e):n})),r=(0,a.Z)(e,2),i=r[0],u=r[1];return(0,s.useEffect)((function(){localStorage.setItem(t,JSON.stringify(i))}),[i,t]),[i,u]}([],"films"),e=(0,a.Z)(t,2),r=e[0],i=e[1],u=(0,s.useState)(""),o=(0,a.Z)(u,2),c=o[0],l=o[1],f=(0,Z.lr)(),m=(0,a.Z)(f,2),x=m[0],j=m[1],b=function(){var n=(0,s.useRef)(!0);return n.current?(n.current=!1,!0):n.current}(),g=null!==(n=x.get("query"))&&void 0!==n?n:"";if((0,s.useEffect)((function(){b||(0,v.Pd)(c).then(i)}),[b,c,i]),r)return(0,d.jsxs)("div",{children:[(0,d.jsx)(h,{onSubmit:function(n){""!==n.trim()?l(n):p.Am.error("Please write a name of the film!")},onChange:function(n){j(""!==n?{q:n}:{})}}),""!==g&&(0,d.jsx)(y,{films:r})]})},O=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)(_,{}),(0,d.jsx)(S.j3,{})]})}}}]);
//# sourceMappingURL=321.a3bf80d1.chunk.js.map