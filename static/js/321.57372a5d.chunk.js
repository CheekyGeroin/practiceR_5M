"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[321],{321:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var r,o,i,u,a=t(439),s=t(791),c=t(168),l=t(686),f=l.Z.form(r||(r=(0,c.Z)([""]))),m=l.Z.input(o||(o=(0,c.Z)(["\n  margin-right: 15px;\n"]))),x=l.Z.button(i||(i=(0,c.Z)(["\n  border-radius: 20px;\n  border: none;\n  padding: 5px 10px;\n  :active {\n    box-shadow: 2px 2px 2px 2px #bab8b8;\n  }\n"]))),d=t(184),h=function(n){var e=n.onSubmit,t=n.onChange,r=(0,s.useState)(""),o=(0,a.Z)(r,2),i=o[0],u=o[1];return(0,d.jsxs)(f,{onSubmit:function(n){n.preventDefault(),e(i),t(i),u("")},children:[(0,d.jsx)(m,{onChange:function(n){u(n.currentTarget.value.toLowerCase())},value:i,type:"text"}),(0,d.jsx)(x,{type:"submit",children:"Search"})]})},p=t(596),v=t(202),g=t(87);var Z,j,b=l.Z.ul(u||(u=(0,c.Z)([""]))),S=t(689),w=(0,l.Z)(g.OL)(Z||(Z=(0,c.Z)([""]))),k=l.Z.li(j||(j=(0,c.Z)(["\n  :not(:last-child) {\n    margin-bottom: 5px;\n  }\n"]))),C=function(n){var e=n.id,t=n.title,r=(0,S.TH)();return(0,d.jsxs)(k,{children:[(0,d.jsx)(w,{to:"/movies/".concat(e),state:{from:r},children:t}),(0,d.jsx)(S.j3,{})]})},y=function(n){var e=n.films;return console.log(e),(0,d.jsx)(b,{children:e.length>0&&e.map((function(n){var e=n.id,t=n.name,r=n.title;return(0,d.jsx)(C,{id:e,title:null!==r&&void 0!==r?r:t},e)}))})},_=function(){var n,e=function(n,e){var t=(0,s.useState)((function(){var t=localStorage.getItem(e);return t?JSON.parse(t):n})),r=(0,a.Z)(t,2),o=r[0],i=r[1];return(0,s.useEffect)((function(){localStorage.setItem(e,JSON.stringify(o))}),[o,e]),[o,i]}([],"films"),t=(0,a.Z)(e,2),r=t[0],o=t[1],i=(0,s.useState)(""),u=(0,a.Z)(i,2),c=u[0],l=u[1],f=(0,g.lr)(),m=(0,a.Z)(f,2),x=m[0],Z=m[1],j=function(){var n=(0,s.useRef)(!0);return n.current?(n.current=!1,!0):n.current}(),b=null!==(n=x.get("query"))&&void 0!==n?n:"";console.log(b);if((0,s.useEffect)((function(){j||(0,v.Pd)(c).then(o)}),[j,c,o]),r)return console.log(r),(0,d.jsxs)("div",{children:[(0,d.jsx)(h,{onSubmit:function(n){""!==n.trim()?l(n):p.Am.error("Please write a name of the film!")},onChange:function(n){Z(""!==n?{query:n}:{})}}),""!==b&&(0,d.jsx)(y,{films:r})]})},O=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)(_,{}),(0,d.jsx)(S.j3,{})]})}}}]);
//# sourceMappingURL=321.57372a5d.chunk.js.map